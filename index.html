<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>WebGL Demo</title>
    <link rel="stylesheet" href="./webgl.css" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gl-matrix/2.8.1/gl-matrix-min.js"
      integrity="sha512-zhHQR0/H5SEBL3Wn6yYSaTTZej12z0hVZKOv3TwCUXT1z5qeqGcXJLLrbERYRScEDDpYIJhPC1fk31gqR783iQ=="
      crossorigin="anonymous" defer>
    </script>
    <script src="webgl.js" defer></script>
    <script src="loaddata.js" ></script>
<script type="text/javascript">
'use strict';

   function init() {
      window.onkeydown = checkKey;
   }

	// process keyboard events
	// keypress triggers changes in variables which affect drawing
    function checkKey(event) {
      switch (event.keyCode) {
        // number 1 
        case 49: 
           rotValue += Math.PI / 6;
           break;
		// letter s
        case 83: 
           if (speed == 50) {
              speed = 100;
           } else if (speed == 100) {
              speed = 25;
           } else {
              speed = 50
           }
           break;
		// letter q
         case 81:
           if (index >= files.length-1) {
              index = 0;
           } else {
              index++;
           }
           var inum = index + 1;
           console.log("file: " + inum + " of " + files.length);
           break;
      }  // end switch
   }

   window.onload = init;

</script>
</head>
  <body>
   <canvas id="glcanvas" width="640" height="480"></canvas>
   <input type="file" onchange="readFile(this)" multiple>
   <div>
		<h2>Keyboard Events</h2>
		<p style='margin:0.1em;'>1 = Rotate View</p>
		<p style='margin:0.1em;'>q = Change File</p>
		<p style='margin:0.1em;'>s = Change Light Speed (25/50/100)</p>
	</div>
   <script>
      function readFile(input) {
         files = input.files;
         loadFile();
      }
   </script>
</body>
</html>
